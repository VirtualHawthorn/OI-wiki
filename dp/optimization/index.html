



<!DOCTYPE html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
<meta http-equiv="x-dns-prefetch-control" content="on">
<link rel="dns-prefetch" href="//fonts.loli.net">
<link rel="dns-prefetch" href="//cdn.bootcss.com">
<link rel="dns-prefetch" href="//unpkg.com">
<link rel="dns-prefetch" href="//npmcdn.com">
<link rel="dns-prefetch" href="//oi-wiki.org">
<link rel="dns-prefetch" href="//api.github.com">
<link rel="dns-prefetch" href="//www.google-analytics.com">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="OI Wiki 是一个信息学奥林匹克竞赛知识整合站点，提供有趣又实用的 OI 知识以及其他有帮助的内容，帮助广大 OI 爱好者更快更深入地学习 OI 竞赛">
      
      
        <link rel="canonical" href="https://oi-wiki.org/dp/optimization/">
      
      
        <meta name="author" content="OI Wiki Team">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="jp">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../favicon.ico">
      <meta name="generator" content="mkdocs-1.0.3, mkdocs-material-3.0.3">
    
    
      
        <title>优化及其它 - OI Wiki</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.451f80e5.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.22915126.css">
      
      
        
        
        <meta name="theme-color" content="">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      <link href="https://gstatic.loli.net" rel="preconnect" crossorigin>
      
        <link rel="stylesheet" href="https://fonts.loli.net/css?family=Fira+Sans:300,400,400i,700|Fira+Mono">
        <style>body,input{font-family:"Fira Sans","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Fira Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
      <link rel="stylesheet" href="../../_static/css/extra.css?v=3">
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="white" data-md-color-accent="red">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="../../#_1" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://oi-wiki.org" title="OI Wiki" class="md-header-nav__button md-logo">
          
            <i class="md-icon">school</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                OI Wiki
              </span>
              <span class="md-header-nav__topic">
                优化及其它
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/24OI/OI-wiki/" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      24OI/OI-wiki
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
        

  

<nav class="md-tabs md-tabs--active" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../.." title="简介" class="md-tabs__link">
          简介
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../basic/" title="基础部分" class="md-tabs__link">
          基础部分
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../search/" title="搜索" class="md-tabs__link">
          搜索
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../" title="动态规划" class="md-tabs__link md-tabs__link--active">
          动态规划
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../string/" title="字符串" class="md-tabs__link">
          字符串
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../math/" title="数学" class="md-tabs__link">
          数学
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../ds/" title="数据结构" class="md-tabs__link">
          数据结构
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../graph/" title="图论" class="md-tabs__link">
          图论
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../geometry/" title="计算几何" class="md-tabs__link">
          计算几何
        </a>
      
    </li>
  

      
        
  
  
    <li class="md-tabs__item">
      
        <a href="../../misc/" title="杂项" class="md-tabs__link">
          杂项
        </a>
      
    </li>
  

      
    </ul>
  </div>
</nav>
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://oi-wiki.org" title="OI Wiki" class="md-nav__button md-logo">
      
        <i class="md-icon">school</i>
      
    </a>
    OI Wiki
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/24OI/OI-wiki/" title="前往 Github 仓库" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      24OI/OI-wiki
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1" type="checkbox" id="nav-1">
    
    <label class="md-nav__link" for="nav-1">
      简介
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-1">
        简介
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../.." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/mode/" title="OI 赛制简介" class="md-nav__link">
      OI 赛制简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/resources/" title="学习资源" class="md-nav__link">
      学习资源
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-1-4" type="checkbox" id="nav-1-4">
    
    <label class="md-nav__link" for="nav-1-4">
      工具软件
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-1-4">
        工具软件
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/judgers/" title="评测工具" class="md-nav__link">
      评测工具
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/editors/" title="编辑工具" class="md-nav__link">
      编辑工具
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/about/" title="关于本项目" class="md-nav__link">
      关于本项目
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../intro/faq/" title="F.A.Q." class="md-nav__link">
      F.A.Q.
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      基础部分
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        基础部分
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/" title="基础部分简介" class="md-nav__link">
      基础部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/enumerate/" title="枚举" class="md-nav__link">
      枚举
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/simulate/" title="模拟" class="md-nav__link">
      模拟
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/divide-and-conquer/" title="分治" class="md-nav__link">
      分治
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/greedy/" title="贪心" class="md-nav__link">
      贪心
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/sort/" title="排序" class="md-nav__link">
      排序
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/expression/" title="表达式求值" class="md-nav__link">
      表达式求值
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/binary/" title="二分" class="md-nav__link">
      二分
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../basic/construction/" title="构造" class="md-nav__link">
      构造
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      搜索
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        搜索
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/" title="搜索部分简介" class="md-nav__link">
      搜索部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/dfs/" title="DFS" class="md-nav__link">
      DFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/bfs/" title="BFS" class="md-nav__link">
      BFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/dbfs/" title="双向广搜" class="md-nav__link">
      双向广搜
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/heuristic/" title="启发式搜索" class="md-nav__link">
      启发式搜索
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/astar/" title="A*" class="md-nav__link">
      A*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/iterative/" title="迭代加深搜索" class="md-nav__link">
      迭代加深搜索
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/idastar/" title="IDA*" class="md-nav__link">
      IDA*
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/backtracking/" title="回溯法" class="md-nav__link">
      回溯法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../search/dlx/" title="Dancing Links" class="md-nav__link">
      Dancing Links
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4" checked>
    
    <label class="md-nav__link" for="nav-4">
      动态规划
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        动态规划
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../" title="动态规划部分简介" class="md-nav__link">
      动态规划部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../memo/" title="记忆化搜索" class="md-nav__link">
      记忆化搜索
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../backpack/" title="背包 DP" class="md-nav__link">
      背包 DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../interval/" title="区间 DP" class="md-nav__link">
      区间 DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../dag/" title="DAG 上的 DP" class="md-nav__link">
      DAG 上的 DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../tree/" title="树形 DP" class="md-nav__link">
      树形 DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../state/" title="状压 DP" class="md-nav__link">
      状压 DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../number/" title="数位 DP" class="md-nav__link">
      数位 DP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../plug/" title="插头 DP" class="md-nav__link">
      插头 DP
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        优化及其它
      </label>
    
    <a href="./" title="优化及其它" class="md-nav__link md-nav__link--active">
      优化及其它
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="二进制优化解多重背包" class="md-nav__link">
    二进制优化解多重背包
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-" title="例题 经典问题-多重背包" class="md-nav__link">
    例题 经典问题-多重背包
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="代码实现" class="md-nav__link">
    代码实现
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="几道练习题" class="md-nav__link">
    几道练习题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" title="单调队列&amp;单调栈优化" class="md-nav__link">
    单调队列&amp;单调栈优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cf372c-watching-fireworks-is-fun" title="例题 CF372C Watching Fireworks is Fun" class="md-nav__link">
    例题 CF372C Watching Fireworks is Fun
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" title="几道练习题：" class="md-nav__link">
    几道练习题：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" title="斜率优化" class="md-nav__link">
    斜率优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#luogu-p3195-hnoi2008toy" title="例题 luogu P3195 [HNOI2008]玩具装箱TOY" class="md-nav__link">
    例题 luogu P3195 [HNOI2008]玩具装箱TOY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" title="几道练习题：" class="md-nav__link">
    几道练习题：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" title="四边形不等式优化" class="md-nav__link">
    四边形不等式优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#luogu-p1880-noi1995" title="例题 luogu P1880 [NOI1995]石子合并" class="md-nav__link">
    例题 luogu P1880 [NOI1995]石子合并
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="什么是四边形不等式？" class="md-nav__link">
    什么是四边形不等式？
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" title="回到题目" class="md-nav__link">
    回到题目
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" title="说了这么多，怎么进行状态转移呢？" class="md-nav__link">
    说了这么多，怎么进行状态转移呢？
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" title="时间复杂度证明" class="md-nav__link">
    时间复杂度证明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" title="一道练习题：" class="md-nav__link">
    一道练习题：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" title="参考资料" class="md-nav__link">
    参考资料
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="评论" class="md-nav__link md-nav__link--active">
            评论
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../misc/" title="其它动规方法" class="md-nav__link">
      其它动规方法
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      字符串
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        字符串
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/" title="字符串部分简介" class="md-nav__link">
      字符串部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/stl/" title="标准库" class="md-nav__link">
      标准库
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/match/" title="字符串匹配问题" class="md-nav__link">
      字符串匹配问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/hash/" title="哈希" class="md-nav__link">
      哈希
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/kmp/" title="KMP" class="md-nav__link">
      KMP
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/trie/" title="字典树（Trie）" class="md-nav__link">
      字典树（Trie）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/pam/" title="回文自动机" class="md-nav__link">
      回文自动机
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/palindrome-tree/" title="回文树" class="md-nav__link">
      回文树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/sa/" title="后缀数组（SA）" class="md-nav__link">
      后缀数组（SA）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/ac-automaton/" title="AC 自动机" class="md-nav__link">
      AC 自动机
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/sam/" title="后缀自动机（SAM）" class="md-nav__link">
      后缀自动机（SAM）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/suffix-tree/" title="后缀树" class="md-nav__link">
      后缀树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/manacher/" title="Manacher" class="md-nav__link">
      Manacher
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../string/minimal-string/" title="最小表示法" class="md-nav__link">
      最小表示法
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      数学
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        数学
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/" title="数学部分简介" class="md-nav__link">
      数学部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/base/" title="进制相关" class="md-nav__link">
      进制相关
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/prime/" title="素数" class="md-nav__link">
      素数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/gcd/" title="最大公约数" class="md-nav__link">
      最大公约数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/bezouts/" title="裴蜀定理" class="md-nav__link">
      裴蜀定理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/euler/" title="欧拉函数" class="md-nav__link">
      欧拉函数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/sieve/" title="筛法" class="md-nav__link">
      筛法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/mobius/" title="莫比乌斯反演" class="md-nav__link">
      莫比乌斯反演
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/fermat/" title="费马小定理（欧拉定理）" class="md-nav__link">
      费马小定理（欧拉定理）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/quick-pow/" title="快速幂" class="md-nav__link">
      快速幂
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/crt/" title="中国剩余定理" class="md-nav__link">
      中国剩余定理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/dictionary/" title="分段打表" class="md-nav__link">
      分段打表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/matrix/" title="矩阵" class="md-nav__link">
      矩阵
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/bit/" title="位运算" class="md-nav__link">
      位运算
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/inverse/" title="乘法逆元" class="md-nav__link">
      乘法逆元
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/primitive-root/" title="阶 原根" class="md-nav__link">
      阶 原根
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/bsgs/" title="BSGS" class="md-nav__link">
      BSGS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/game/" title="博弈论" class="md-nav__link">
      博弈论
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/poly/" title="多项式黑科技" class="md-nav__link">
      多项式黑科技
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/combination/" title="排列组合" class="md-nav__link">
      排列组合
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/catalan/" title="卡特兰数" class="md-nav__link">
      卡特兰数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/stirling/" title="斯特林数" class="md-nav__link">
      斯特林数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/cantor/" title="康托展开" class="md-nav__link">
      康托展开
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/expectation/" title="概率与期望" class="md-nav__link">
      概率与期望
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/permutation-group/" title="置换群" class="md-nav__link">
      置换群
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/gauss/" title="高斯消元" class="md-nav__link">
      高斯消元
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/linear-equation/" title="线性方程" class="md-nav__link">
      线性方程
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/inclusion-exclusion-principle/" title="容斥原理" class="md-nav__link">
      容斥原理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/drawer-principle/" title="抽屉原理" class="md-nav__link">
      抽屉原理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/integral/" title="数值积分" class="md-nav__link">
      数值积分
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/fft/" title="快速傅里叶变换" class="md-nav__link">
      快速傅里叶变换
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/ntt/" title="快速数论变换" class="md-nav__link">
      快速数论变换
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/fwt/" title="快速沃尔什变换" class="md-nav__link">
      快速沃尔什变换
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/linear-programming/" title="线性规划" class="md-nav__link">
      线性规划
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/complex/" title="复数" class="md-nav__link">
      复数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/bignum/" title="高精度" class="md-nav__link">
      高精度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../math/misc/" title="杂项" class="md-nav__link">
      杂项
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      数据结构
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        数据结构
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/" title="数据结构部分简介" class="md-nav__link">
      数据结构部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      STL
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        STL
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/stl/" title="STL 简介" class="md-nav__link">
      STL 简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/stl/vector/" title="vector" class="md-nav__link">
      vector
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/stl/priority_queue/" title="priority_queue" class="md-nav__link">
      priority_queue
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/stl/map/" title="map" class="md-nav__link">
      map
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-3" type="checkbox" id="nav-7-3">
    
    <label class="md-nav__link" for="nav-7-3">
      pb_ds
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-3">
        pb_ds
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/pb-ds/" title="pb_ds 简介" class="md-nav__link">
      pb_ds 简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/pb-ds/priority-queue/" title="priority_queue" class="md-nav__link">
      priority_queue
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/stack/" title="栈" class="md-nav__link">
      栈
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/queue/" title="队列" class="md-nav__link">
      队列
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/linked-list/" title="链表" class="md-nav__link">
      链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/hash/" title="哈希表" class="md-nav__link">
      哈希表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/dsu/" title="并查集" class="md-nav__link">
      并查集
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/heap/" title="堆" class="md-nav__link">
      堆
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/square-root-decomposition/" title="分块" class="md-nav__link">
      分块
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/monotonous-stack/" title="单调栈" class="md-nav__link">
      单调栈
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/monotonous-queue/" title="单调队列" class="md-nav__link">
      单调队列
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/sparse-table/" title="倍增法" class="md-nav__link">
      倍增法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/block-list/" title="块状链表" class="md-nav__link">
      块状链表
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/block-array/" title="块状数组" class="md-nav__link">
      块状数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/bit/" title="树状数组" class="md-nav__link">
      树状数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/segment/" title="线段树" class="md-nav__link">
      线段树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/treap/" title="Treap" class="md-nav__link">
      Treap
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/sbt/" title="SBT" class="md-nav__link">
      SBT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/splay/" title="Splay" class="md-nav__link">
      Splay
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/scapegoat/" title="替罪羊树" class="md-nav__link">
      替罪羊树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/virtual-tree/" title="虚树" class="md-nav__link">
      虚树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-23" type="checkbox" id="nav-7-23">
    
    <label class="md-nav__link" for="nav-7-23">
      树套树
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-23">
        树套树
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/seg-in-seg/" title="线段树套线段树" class="md-nav__link">
      线段树套线段树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/seg-in-balanced/" title="平衡树套线段树" class="md-nav__link">
      平衡树套线段树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/balanced-in-seg/" title="线段树套平衡树" class="md-nav__link">
      线段树套平衡树
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/avl/" title="AVL 树" class="md-nav__link">
      AVL 树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/dividin/" title="划分树" class="md-nav__link">
      划分树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/k-dtree/" title="K-Dtree" class="md-nav__link">
      K-Dtree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/persistent-seg/" title="可持久化线段树" class="md-nav__link">
      可持久化线段树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/persistent-block-array/" title="可持久化块状数组" class="md-nav__link">
      可持久化块状数组
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/persistent-balanced/" title="可持久化平衡树" class="md-nav__link">
      可持久化平衡树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/persistent-trie/" title="可持久化字典树" class="md-nav__link">
      可持久化字典树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/lct/" title="Link Cut Tree" class="md-nav__link">
      Link Cut Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/ett/" title="Euler Tour Tree" class="md-nav__link">
      Euler Tour Tree
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../ds/tree-decompose/" title="树分块" class="md-nav__link">
      树分块
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      图论
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        图论
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/" title="图论部分简介" class="md-nav__link">
      图论部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/basic/" title="图论基础" class="md-nav__link">
      图论基础
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/tree-basic/" title="树相关基础" class="md-nav__link">
      树相关基础
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/traverse/" title="遍历：BFS 和 DFS" class="md-nav__link">
      遍历：BFS 和 DFS
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/mst/" title="最小生成树" class="md-nav__link">
      最小生成树
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/lca/" title="最近公共祖先" class="md-nav__link">
      最近公共祖先
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/heavy-light-decomposition/" title="树链剖分" class="md-nav__link">
      树链剖分
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/tree-divide/" title="树分治" class="md-nav__link">
      树分治
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/tree-misc/" title="树的其他问题" class="md-nav__link">
      树的其他问题
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/topo/" title="拓扑排序" class="md-nav__link">
      拓扑排序
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/dynamic-tree-divide/" title="动态树分治" class="md-nav__link">
      动态树分治
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/2-sat/" title="2-SAT" class="md-nav__link">
      2-SAT
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/euler/" title="欧拉图" class="md-nav__link">
      欧拉图
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/scc/" title="强连通分量" class="md-nav__link">
      强连通分量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/bcc/" title="双连通分量" class="md-nav__link">
      双连通分量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/bridge/" title="割点割边" class="md-nav__link">
      割点割边
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/differential-constraints/" title="差分约束" class="md-nav__link">
      差分约束
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/dag/" title="有向无环图" class="md-nav__link">
      有向无环图
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/bi-graph/" title="二分图" class="md-nav__link">
      二分图
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/shortest-path/" title="最短路" class="md-nav__link">
      最短路
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/min-circle/" title="最小环" class="md-nav__link">
      最小环
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/kth-path/" title="k 短路" class="md-nav__link">
      k 短路
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/flow/" title="网络流" class="md-nav__link">
      网络流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/flow/node/" title="拆点" class="md-nav__link">
      拆点
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/flow/max-flow/" title="最大流" class="md-nav__link">
      最大流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/flow/min-cut/" title="最小割" class="md-nav__link">
      最小割
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/flow/min-cost/" title="费用流" class="md-nav__link">
      费用流
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../graph/flow/bound/" title="上下界网络流" class="md-nav__link">
      上下界网络流
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      计算几何
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        计算几何
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/" title="计算几何部分简介" class="md-nav__link">
      计算几何部分简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/2d/" title="二维计算几何基础" class="md-nav__link">
      二维计算几何基础
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/3d/" title="三维计算几何基础" class="md-nav__link">
      三维计算几何基础
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/pick/" title="Pick 定理" class="md-nav__link">
      Pick 定理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/triangulation/" title="三角剖分" class="md-nav__link">
      三角剖分
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/convex-hull/" title="凸包" class="md-nav__link">
      凸包
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/scanning/" title="扫描线" class="md-nav__link">
      扫描线
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/rotating-calipers/" title="旋转卡壳" class="md-nav__link">
      旋转卡壳
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/half-plane-intersection/" title="半平面交" class="md-nav__link">
      半平面交
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../geometry/magic/" title="其他黑科技" class="md-nav__link">
      其他黑科技
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      杂项
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        杂项
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/" title="杂项简介" class="md-nav__link">
      杂项简介
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/non-traditional/" title="非传统题（提答大法）" class="md-nav__link">
      非传统题（提答大法）
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/cdq-divide/" title="CDQ 分治" class="md-nav__link">
      CDQ 分治
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/mo-algo/" title="莫队算法" class="md-nav__link">
      莫队算法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/hill-climbing/" title="爬山算法" class="md-nav__link">
      爬山算法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/fractional-programming/" title="分数规划" class="md-nav__link">
      分数规划
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/simulated-annealing/" title="模拟退火" class="md-nav__link">
      模拟退火
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/zhu-liu-algorithm/" title="朱刘算法" class="md-nav__link">
      朱刘算法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/matrix-tree/" title="矩阵树定理" class="md-nav__link">
      矩阵树定理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/random-incremental/" title="随机增量法" class="md-nav__link">
      随机增量法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/random/" title="随机化" class="md-nav__link">
      随机化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/offline/" title="离线处理" class="md-nav__link">
      离线处理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/distance/" title="各种距离" class="md-nav__link">
      各种距离
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/endianness/" title="字节顺序" class="md-nav__link">
      字节顺序
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/complexity/" title="复杂度" class="md-nav__link">
      复杂度
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/io/" title="读入和输出优化" class="md-nav__link">
      读入和输出优化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/discrete/" title="离散化" class="md-nav__link">
      离散化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../misc/dsu-on-tree/" title="树上启发式合并" class="md-nav__link">
      树上启发式合并
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_1" title="二进制优化解多重背包" class="md-nav__link">
    二进制优化解多重背包
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#-" title="例题 经典问题-多重背包" class="md-nav__link">
    例题 经典问题-多重背包
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_2" title="代码实现" class="md-nav__link">
    代码实现
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" title="几道练习题" class="md-nav__link">
    几道练习题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" title="单调队列&amp;单调栈优化" class="md-nav__link">
    单调队列&amp;单调栈优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#cf372c-watching-fireworks-is-fun" title="例题 CF372C Watching Fireworks is Fun" class="md-nav__link">
    例题 CF372C Watching Fireworks is Fun
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_5" title="几道练习题：" class="md-nav__link">
    几道练习题：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" title="斜率优化" class="md-nav__link">
    斜率优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#luogu-p3195-hnoi2008toy" title="例题 luogu P3195 [HNOI2008]玩具装箱TOY" class="md-nav__link">
    例题 luogu P3195 [HNOI2008]玩具装箱TOY
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_7" title="几道练习题：" class="md-nav__link">
    几道练习题：
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_8" title="四边形不等式优化" class="md-nav__link">
    四边形不等式优化
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#luogu-p1880-noi1995" title="例题 luogu P1880 [NOI1995]石子合并" class="md-nav__link">
    例题 luogu P1880 [NOI1995]石子合并
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_9" title="什么是四边形不等式？" class="md-nav__link">
    什么是四边形不等式？
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_10" title="回到题目" class="md-nav__link">
    回到题目
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_11" title="说了这么多，怎么进行状态转移呢？" class="md-nav__link">
    说了这么多，怎么进行状态转移呢？
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_12" title="时间复杂度证明" class="md-nav__link">
    时间复杂度证明
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_13" title="一道练习题：" class="md-nav__link">
    一道练习题：
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_14" title="参考资料" class="md-nav__link">
    参考资料
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" title="评论" class="md-nav__link md-nav__link--active">
            评论
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/24OI/OI-wiki/blob/master/docs/dp/optimization.md" title="编辑此页" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                  <h1>优化及其它</h1>
                
                 <blockquote class="page-time"></blockquote>
                <p>By <a href="https://github.com/hsfzLZH1">hsfzLZH1</a></p>
<p>本章主要讲解动态规划的几种基础 <strong> 优化 </strong> 方法。</p>
<h2 id="_1">二进制优化解多重背包<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h2>
<h3 id="-">例题 <a href="https://oi-wiki.org/dp/backpack/#_3">经典问题-多重背包</a><a class="headerlink" href="#-" title="Permanent link">&para;</a></h3>
<p>题目大意：有 <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> 种物品，每种物品有 <span><span class="MathJax_Preview">a_i</span><script type="math/tex">a_i</script></span> 件，购买一件这种物品的费用为 <span><span class="MathJax_Preview">c_i</span><script type="math/tex">c_i</script></span>，价值为 <span><span class="MathJax_Preview">v_i</span><script type="math/tex">v_i</script></span>。有一个容量为 <span><span class="MathJax_Preview">t</span><script type="math/tex">t</script></span> 的背包，现在让你找到最优的一种方案，使得装入背包的物品的总价值最大。</p>
<p>考虑常规的动规方式，定义 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 为当前考虑到第 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个物品，背包容量为 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 所能获得的最大价值。</p>
<p>状态转移方程为， <span><span class="MathJax_Preview">f_{i,j}=\max\{f_{i-1,j},f_{i-1,j-c_i}+v_i\}</span><script type="math/tex">f_{i,j}=\max\{f_{i-1,j},f_{i-1,j-c_i}+v_i\}</script></span>。</p>
<p>对于 <strong> 每件 </strong> 物品，都要这样循环一次，时间复杂度为 <span><span class="MathJax_Preview">t\times \sum_{i=1}^n a_i</span><script type="math/tex">t\times \sum_{i=1}^n a_i</script></span>，某些时候可能不可接受，需要优化。</p>
<p>考虑这样一种情况，如果我们有 <span><span class="MathJax_Preview">17</span><script type="math/tex">17</script></span> 个硬币，要去买 <span><span class="MathJax_Preview">1</span><script type="math/tex">1</script></span> 到 <span><span class="MathJax_Preview">17</span><script type="math/tex">17</script></span> 元钱的物品，只需将这些硬币打包成 <span><span class="MathJax_Preview">1,2,4,8</span><script type="math/tex">1,2,4,8</script></span> 和 <span><span class="MathJax_Preview">2</span><script type="math/tex">2</script></span> 这样的几包。前面的 <span><span class="MathJax_Preview">4</span><script type="math/tex">4</script></span> 包能保证覆盖 <span><span class="MathJax_Preview">1</span><script type="math/tex">1</script></span> 到 <span><span class="MathJax_Preview">15</span><script type="math/tex">15</script></span> 所有的情况，最后一包在之前的基础上再加上一个值，能保证实现支付的时候取整包，肯定能保证支付。这就是二进制优化的原理和基本思想。</p>
<p>用上述的方法，就可以把 <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span> 件相同的物品看作是 <span><span class="MathJax_Preview">O(log_2 k)</span><script type="math/tex">O(log_2 k)</script></span> 件物品了。优化后</p>
<h2 id="_2">代码实现<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span>1
2
3
4
5
6
7
8</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span><span class="n">a</span><span class="o">+</span><span class="n">i</span><span class="p">);</span>
    <span class="n">tot</span><span class="o">+=</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="n">j</span><span class="o">*=</span><span class="mi">2</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">&gt;=</span><span class="n">j</span><span class="p">)</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-=</span><span class="n">j</span><span class="p">,</span><span class="n">v</span><span class="p">[</span><span class="o">++</span><span class="n">cur</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">j</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">])</span><span class="n">v</span><span class="p">[</span><span class="o">++</span><span class="n">cur</span><span class="p">]</span><span class="o">=</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
<span class="p">}</span>
<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">cur</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">m</span><span class="p">;</span><span class="n">j</span><span class="o">&gt;=</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="n">j</span><span class="o">--</span><span class="p">)</span><span class="k">if</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="o">-</span><span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]])</span><span class="n">f</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="nb">true</span><span class="p">;</span>
</pre></div>
</td></tr></table>

<h2 id="_3">几道练习题<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p><a href="http://acm.hdu.edu.cn/showproblem.php?pid=2844">HDU 2844 Coins</a></p>
<h2 id="_4">单调队列&amp;单调栈优化<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>学习本节前，请务必先学习 <a href="https://oi-wiki.org/ds/monotonous-queue/">单调队列</a>。</p>
<h3 id="cf372c-watching-fireworks-is-fun">例题 <a href="http://codeforces.com/problemset/problem/372/C">CF372C Watching Fireworks is Fun</a><a class="headerlink" href="#cf372c-watching-fireworks-is-fun" title="Permanent link">&para;</a></h3>
<p>题目大意：城镇中有 <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> 个位置，有 <span><span class="MathJax_Preview">m</span><script type="math/tex">m</script></span> 个烟花要放。第 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个烟花放出的时间记为 <span><span class="MathJax_Preview">t_i</span><script type="math/tex">t_i</script></span>，放出的位置记为 <span><span class="MathJax_Preview">a_i</span><script type="math/tex">a_i</script></span>。如果烟花放出的时候，你处在位置 <span><span class="MathJax_Preview">x</span><script type="math/tex">x</script></span>，那么你将收获 <span><span class="MathJax_Preview">b_i-|a_i-x|</span><script type="math/tex">b_i-|a_i-x|</script></span> 点快乐值。
初始你可在任意位置，你每个单位时间可以移动不大于 <span><span class="MathJax_Preview">d</span><script type="math/tex">d</script></span> 个单位距离。现在你需要最大化你能获得的快乐值。</p>
<p>设 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 表示在放第 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个烟花时，你的位置在 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 所能获得的最大快乐值。</p>
<p>写出 <strong> 状态转移方程 </strong> ：<span><span class="MathJax_Preview">f_{i,j}=\max\{f_{i-1,k}+b_i-|a_i-j|\}</span><script type="math/tex">f_{i,j}=\max\{f_{i-1,k}+b_i-|a_i-j|\}</script></span></p>
<p>这里的 <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span> 是有范围的，<span><span class="MathJax_Preview">j-(t_{i+1}-t_i)\times d\le k\le j+(t_{i+1}-t_i)\times d</span><script type="math/tex">j-(t_{i+1}-t_i)\times d\le k\le j+(t_{i+1}-t_i)\times d</script></span>。</p>
<p>我们尝试将状态转移方程进行变形：</p>
<p>由于 <span><span class="MathJax_Preview">\max</span><script type="math/tex">\max</script></span> 里出现了一个确定的常量 <span><span class="MathJax_Preview">b_i</span><script type="math/tex">b_i</script></span>，我们可以将它提到外面去。</p>
<p><span><span class="MathJax_Preview">f_{i,j}=\max\{f_{i-1,k}+b_i+|a_i-j|\}=\max\{f_{i-1,k}+|a_i-j|\}+b_i</span><script type="math/tex">f_{i,j}=\max\{f_{i-1,k}+b_i+|a_i-j|\}=\max\{f_{i-1,k}+|a_i-j|\}+b_i</script></span></p>
<p>如果确定了 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 和 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 的值，那么 <span><span class="MathJax_Preview">|a_i-j|</span><script type="math/tex">|a_i-j|</script></span> 的值也是确定的，也可以将这一部分提到外面去。</p>
<p>最后，式子变成了这个样子：<span><span class="MathJax_Preview">f_{i,j}=\max\{f_{i-1,k}+|a_i-j|\}+b_i=\max\{f_{i-1,k}\}+|a_i-j|+b_i</span><script type="math/tex">f_{i,j}=\max\{f_{i-1,k}+|a_i-j|\}+b_i=\max\{f_{i-1,k}\}+|a_i-j|+b_i</script></span></p>
<p>看到这一熟悉的形式，我们想到了什么？<strong> 单调队列优化 </strong>。由于最终式子中的 <span><span class="MathJax_Preview">\max</span><script type="math/tex">\max</script></span> 只和上一状态中连续的一段的最大值有关，所以我们在计算一个新的 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 的状态值时候只需将原来的 <span><span class="MathJax_Preview">f_{i-1}</span><script type="math/tex">f_{i-1}</script></span> 构造成一个单调队列，并维护单调队列，使得其能在均摊 <span><span class="MathJax_Preview">O(1)</span><script type="math/tex">O(1)</script></span> 的时间复杂度内计算出 <span><span class="MathJax_Preview">\max\{f_{i-1,k}\}</span><script type="math/tex">\max\{f_{i-1,k}\}</script></span> 的值，从而根据公式计算出 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 的值。</p>
<p>总的时间复杂度为 <span><span class="MathJax_Preview">O(n\times m)</span><script type="math/tex">O(n\times m)</script></span>。</p>
<p>讲完了，让我们归纳一下单调队列优化动态规划问题的基本形态：当前状态的所有值可以从上一个状态的某个连续的段的值得到，要对这个连续的段进行 RMQ 操作，相邻状态的段的左右区间满足非降的关系。</p>
<h3 id="_5">几道练习题：<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h3>
<p><a href="https://www.luogu.org/problemnew/show/P1886">luogu P1886 滑动窗口</a></p>
<p><a href="https://www.luogu.org/problemnew/show/P2254">luogu P2254 [NOI2005] 瑰丽华尔兹</a></p>
<p><a href="https://www.luogu.org/problemnew/show/P2569">luogu P2569 [SCOI2010] 股票交易</a></p>
<h2 id="_6">斜率优化<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<h3 id="luogu-p3195-hnoi2008toy">例题 <a href="https://www.luogu.org/problemnew/show/P3195">luogu P3195 [HNOI2008]玩具装箱TOY</a><a class="headerlink" href="#luogu-p3195-hnoi2008toy" title="Permanent link">&para;</a></h3>
<p>令 <span><span class="MathJax_Preview">f_i</span><script type="math/tex">f_i</script></span> 表示前 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个物品，随意分组装在任意多个容器里所能得到的最小费用。</p>
<p>写出 <strong> 状态转移方程 </strong> ：<span><span class="MathJax_Preview">f_i=max\{f_j+(pre_i-pre_i+i-j-1-L)^2\}</span><script type="math/tex">f_i=max\{f_j+(pre_i-pre_i+i-j-1-L)^2\}</script></span> ，其中 <span><span class="MathJax_Preview">pre_i</span><script type="math/tex">pre_i</script></span> 表示前 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 个数的前缀和。</p>
<p>换元试图简化状态转移方程式： 令 <span><span class="MathJax_Preview">s_i=pre_i+i,L'=L+1</span><script type="math/tex">s_i=pre_i+i,L'=L+1</script></span>，则 <span><span class="MathJax_Preview">f_i=f_j+(s_i-s_j-L')^2</span><script type="math/tex">f_i=f_j+(s_i-s_j-L')^2</script></span>，展开，移项得</p>
<p><span><span class="MathJax_Preview">f_i=f_j+(s_i-s_j-L')^2</span><script type="math/tex">f_i=f_j+(s_i-s_j-L')^2</script></span></p>
<p><span><span class="MathJax_Preview">f_i+2\times s_i\times (s_j+L')=f_j+s_i^2+(s_j+L')^2</span><script type="math/tex">f_i+2\times s_i\times (s_j+L')=f_j+s_i^2+(s_j+L')^2</script></span></p>
<p>我们观察到，式子的右端的所有项都只和 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 有关或只和 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 有关，式子左端的第一项是我们要求的目标值，式子左端的其余项都同时和 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 和 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 有关。我们将这个式子看作一条直线的函数解析式，形如 <span><span class="MathJax_Preview">b+k\times x=y</span><script type="math/tex">b+k\times x=y</script></span> ，和上式一一对应。我们发现如果我们要最小化 <span><span class="MathJax_Preview">f_i</span><script type="math/tex">f_i</script></span> ，也就是说要最小化这个直线的截距，而对于每个确定的 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>，这个直线的斜率 <span><span class="MathJax_Preview">s_i</span><script type="math/tex">s_i</script></span> 都是确定的。</p>
<p><img alt="" src="https://cdn.luogu.org/upload/pic/13267.png" /></p>
<p>如图，我们将这个斜率固定的直线从下往上平移，直到有一个点在这条直线上，然后将新的点加入点集，这样肯定能保证所有的直线的斜率都是单调递升的（因为如果新的直线斜率小于斜率最大的直线，那么其一定不成被选择成为新的决策），所以我们相当于维护了一个下凸包。（如果求的是 <span><span class="MathJax_Preview">\max</span><script type="math/tex">\max</script></span> 那么就要维护一个 <strong> 上凸包 </strong> 。这种东西要具体情况具体分析，如果直线的斜率不满足单调性，那就要维护整个凸包/二分等奇技淫巧。）</p>
<p>可以用单调队列维护下凸包。</p>
<h3 id="_7">几道练习题：<a class="headerlink" href="#_7" title="Permanent link">&para;</a></h3>
<p><a href="https://www.luogu.org/problemnew/show/P4072">luogu P4072 [SDOI2016] 征途</a></p>
<p><a href="https://www.luogu.org/problemnew/show/P2120">luogu P2120 [ZJOI2007] 仓库建设</a></p>
<p><a href="https://www.luogu.org/problemnew/show/P3628">luogu P3628 [APIO2010] 特别行动队</a></p>
<p><a href="https://www.lydsy.com/JudgeOnline/problem.php?id=4709">bzoj 4709 [Jsoi2011] 柠檬</a></p>
<p><a href="http://codeforces.com/problemset/problem/311/B">CF311B Cats Transport</a></p>
<p><a href="https://www.luogu.org/problemnew/show/P4027">luogu P4027 [NOI2007] 货币兑换</a></p>
<h2 id="_8">四边形不等式优化<a class="headerlink" href="#_8" title="Permanent link">&para;</a></h2>
<h3 id="luogu-p1880-noi1995">例题 <a href="https://www.luogu.org/problemnew/show/P1880">luogu P1880 [NOI1995]石子合并</a><a class="headerlink" href="#luogu-p1880-noi1995" title="Permanent link">&para;</a></h3>
<p>题目大意：在一个环上有 <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> 个数，进行 <span><span class="MathJax_Preview">n-1</span><script type="math/tex">n-1</script></span> 次合并操作，每次操作将相邻的两堆合并成一堆，能获得新的一堆中的石子数量的和的得分。你需要最大化你的得分。</p>
<p>我们首先 <strong> 破环成链 </strong> ，然后进行动态规划。设 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 表示从位置 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 合并到位置 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 所能得到的最大得分， <span><span class="MathJax_Preview">sum_i</span><script type="math/tex">sum_i</script></span> 为前 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 堆石子数的前缀和。</p>
<p>写出 <strong> 状态转移方程 </strong> ： <span><span class="MathJax_Preview">f_{i,j}=\max\{f_{i,k}+f_{k+1,j}+(sum_j-sum_i)\}(i\le k\le j)</span><script type="math/tex">f_{i,j}=\max\{f_{i,k}+f_{k+1,j}+(sum_j-sum_i)\}(i\le k\le j)</script></span></p>
<p>考虑常规的转移方法，枚举 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>、<span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 和 <span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span>，时间复杂度为 <span><span class="MathJax_Preview">O(n^3)</span><script type="math/tex">O(n^3)</script></span>。</p>
<h3 id="_9">什么是四边形不等式？<a class="headerlink" href="#_9" title="Permanent link">&para;</a></h3>
<p>对于 <span><span class="MathJax_Preview">a&lt;b\le c&lt;d</span><script type="math/tex">a<b\le c<d</script></span>，如果有<span><span class="MathJax_Preview">f_{a,c}+f_{b,d}\le f_{b,c}+f_{a,d}</span><script type="math/tex">f_{a,c}+f_{b,d}\le f_{b,c}+f_{a,d}</script></span>，则称该数组满足四边形不等式，可以用通俗的方法表述为“交叉小于包含”。</p>
<p>两个定理：</p>
<p>1.四边形不等式能优化的状态转移方程能表示为 <span><span class="MathJax_Preview">f_{i,j}=\max\{f_{i,k}+f_{k+1,j}+cost(i,j)\}(i\le k\le j)</span><script type="math/tex">f_{i,j}=\max\{f_{i,k}+f_{k+1,j}+cost(i,j)\}(i\le k\le j)</script></span>。如果 <span><span class="MathJax_Preview">cost</span><script type="math/tex">cost</script></span> 函数同时满足单调性和四边形不等式，那么数组 <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> 也满足四边形不等式。</p>
<p>定义 <span><span class="MathJax_Preview">idx_{i,j}</span><script type="math/tex">idx_{i,j}</script></span> 为在转移 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 的过程中在 <span><span class="MathJax_Preview">k=idx_{i,j}</span><script type="math/tex">k=idx_{i,j}</script></span> 时取得最小值，那么有如下定理：</p>
<p>2.如果 <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> 数组满足四边形不等式，那么 <span><span class="MathJax_Preview">idx</span><script type="math/tex">idx</script></span> 函数满足单调性，即有 <span><span class="MathJax_Preview">idx_{i,j}\le idx_{i,j+1}\le idx_{i+1,j+1}</span><script type="math/tex">idx_{i,j}\le idx_{i,j+1}\le idx_{i+1,j+1}</script></span> 。</p>
<p>证明会和题目解法一起 <span><span class="MathJax_Preview">qwq</span><script type="math/tex">qwq</script></span> </p>
<h3 id="_10">回到题目<a class="headerlink" href="#_10" title="Permanent link">&para;</a></h3>
<p>第一步：证明 <span><span class="MathJax_Preview">cost</span><script type="math/tex">cost</script></span> 满足四边形不等式</p>
<p>要证明，对于所有满足 <span><span class="MathJax_Preview">i&lt;i+1\le j&lt;j+1</span><script type="math/tex">i<i+1\le j<j+1</script></span> 的 <span><span class="MathJax_Preview">i,j</span><script type="math/tex">i,j</script></span> ， 均有 <span><span class="MathJax_Preview">cost_{i,j}+cost_{i+1,j+1}\le cost_{i+1,j}+cost_{i,j+1}</span><script type="math/tex">cost_{i,j}+cost_{i+1,j+1}\le cost_{i+1,j}+cost_{i,j+1}</script></span>。</p>
<p>移项得 <span><span class="MathJax_Preview">cost_{i,j}-cost_{i+1,j}\le cost_{i,j+1}-cost_{i+1,j+1}</span><script type="math/tex">cost_{i,j}-cost_{i+1,j}\le cost_{i,j+1}-cost_{i+1,j+1}</script></span></p>
<p>设 <span><span class="MathJax_Preview">F(j)=cost_{i,j}-cost{i+1,j}</span><script type="math/tex">F(j)=cost_{i,j}-cost{i+1,j}</script></span> ，如果要使这个四边形不等式成立，那么就要证明 <span><span class="MathJax_Preview">F(j)</span><script type="math/tex">F(j)</script></span> 单调非降。</p>
<p>在本题中， <span><span class="MathJax_Preview">F(j)=(sum_j-sum_{i-1})-(sum_j-sum_i)=sum_i-sum_{i-1}=a_i</span><script type="math/tex">F(j)=(sum_j-sum_{i-1})-(sum_j-sum_i)=sum_i-sum_{i-1}=a_i</script></span> ，与 <span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span> 无关，自然一定满足四边形不等式。</p>
<p>证毕。</p>
<p>第二步：证明 <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> 满足四边形不等式</p>
<p>同样的，应有如下结论：对于所有满足 <span><span class="MathJax_Preview">i&lt;i+1\le j&lt;j+1</span><script type="math/tex">i<i+1\le j<j+1</script></span> 的 <span><span class="MathJax_Preview">i,j</span><script type="math/tex">i,j</script></span> ， 均有 <span><span class="MathJax_Preview">f_{i,j}+f_{i+1,j+1}\le f_{i+1,j}+f_{i,j+1}</span><script type="math/tex">f_{i,j}+f_{i+1,j+1}\le f_{i+1,j}+f_{i,j+1}</script></span></p>
<p>我们假设 <span><span class="MathJax_Preview">x=idx_{i+1,j},y=idx_{i,j+1}</span><script type="math/tex">x=idx_{i+1,j},y=idx_{i,j+1}</script></span>。不妨设 <span><span class="MathJax_Preview">x&lt;=y</span><script type="math/tex">x<=y</script></span>。</p>
<p>将 <span><span class="MathJax_Preview">x,y</span><script type="math/tex">x,y</script></span> 带入得，<span><span class="MathJax_Preview">f_{i,j}+f_{i+1,j+1}=f_{i,x}+f_{x+1,j}+cost_{i,j}+f_{i+1,y}+f_{y+1,j+1}+cost_{i+1,j+1}</span><script type="math/tex">f_{i,j}+f_{i+1,j+1}=f_{i,x}+f_{x+1,j}+cost_{i,j}+f_{i+1,y}+f_{y+1,j+1}+cost_{i+1,j+1}</script></span></p>
<p>由于上一步已经证明出了<span><span class="MathJax_Preview">cost</span><script type="math/tex">cost</script></span>满足四边形不等式，而该不等式的左边在上式出现过，将其替换得</p>
<div>
<div class="MathJax_Preview">
\begin{aligned}
&amp;&amp;f_{i,\,x}+f_{x+1,\,j}+cost_{i,\,j}+f_{i+1,\,y}+f_{y+1,\,j+1}+cost_{i+1,\,j+1}\\
&amp;\le&amp;f_{i,\,x}+f_{x+1,\,j+1}+cost_{i,\,j+1}+f_{i+1,\,y}+f_{y+1,\,j}+cost_{i+1,\,j}\\
\end{aligned}
</div>
<script type="math/tex; mode=display">
\begin{aligned}
&&f_{i,\,x}+f_{x+1,\,j}+cost_{i,\,j}+f_{i+1,\,y}+f_{y+1,\,j+1}+cost_{i+1,\,j+1}\\
&\le&f_{i,\,x}+f_{x+1,\,j+1}+cost_{i,\,j+1}+f_{i+1,\,y}+f_{y+1,\,j}+cost_{i+1,\,j}\\
\end{aligned}
</script>
</div>
<p>消去公共项可得 <span><span class="MathJax_Preview">f_{i,j}+f_{i+1,j+1}\le f_{i+1,j}+f_{i,j+1}</span><script type="math/tex">f_{i,j}+f_{i+1,j+1}\le f_{i+1,j}+f_{i,j+1}</script></span></p>
<p>证毕。</p>
<p>第三步：证明决策的单调性</p>
<p>现在我们已经证明了 <span><span class="MathJax_Preview">cost</span><script type="math/tex">cost</script></span> 和 <span><span class="MathJax_Preview">f</span><script type="math/tex">f</script></span> 满足四边形不等式，要证明决策的单调性以证明优化的正确性。</p>
<p>即证 <span><span class="MathJax_Preview">idx_{i,j-1}\le idx_{i,j}\le idx_{i+1,j}</span><script type="math/tex">idx_{i,j-1}\le idx_{i,j}\le idx_{i+1,j}</script></span></p>
<p>我们只证明式子的前半部分，后半部分可以有类似的方法推出。</p>
<p>设 <span><span class="MathJax_Preview">y=idx_{i,j-1},x\le y</span><script type="math/tex">y=idx_{i,j-1},x\le y</script></span> ，因为 <span><span class="MathJax_Preview">x+1\le y+1\le j-1&lt;j</span><script type="math/tex">x+1\le y+1\le j-1<j</script></span>，由四边形不等式可得，</p>
<p><span><span class="MathJax_Preview">f_{x+1,j-1}+f_{y+1,j}\le f_{y+1,j-1}+f_{x+1,j}</span><script type="math/tex">f_{x+1,j-1}+f_{y+1,j}\le f_{y+1,j-1}+f_{x+1,j}</script></span></p>
<p>由于我们是令 <span><span class="MathJax_Preview">y=idx_{i,j-1},x\le y</span><script type="math/tex">y=idx_{i,j-1},x\le y</script></span> 时 <span><span class="MathJax_Preview">f_{i,j-1}</span><script type="math/tex">f_{i,j-1}</script></span> 取得最小值，那么 <span><span class="MathJax_Preview">f_{i,j-1}(idx_{i,j-1}=x)</span><script type="math/tex">f_{i,j-1}(idx_{i,j-1}=x)</script></span> 一定大于等于 <span><span class="MathJax_Preview">f_{i,j-1}(idx_{i,j-1}=y)</span><script type="math/tex">f_{i,j-1}(idx_{i,j-1}=y)</script></span> ，所以对于 <span><span class="MathJax_Preview">f_{i,j-1}</span><script type="math/tex">f_{i,j-1}</script></span> 可以取到最优值的 <span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> ，所有小于它的值，对于 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 来说，都没有 <span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> 优，所以最优决策一定不是小于 <span><span class="MathJax_Preview">y</span><script type="math/tex">y</script></span> 的，那么一定有 
<span><span class="MathJax_Preview">idx_{i,j-1}\le idx_{i,j}</span><script type="math/tex">idx_{i,j-1}\le idx_{i,j}</script></span> </p>
<p>证毕。</p>
<h3 id="_11">说了这么多，怎么进行状态转移呢？<a class="headerlink" href="#_11" title="Permanent link">&para;</a></h3>
<p>给出核心代码：</p>
<table class="codehilitetable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15</pre></div></td><td class="code"><div class="codehilite"><pre><span></span><span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="n">n</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;=</span><span class="n">n</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">inf</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span><span class="o">=</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span><span class="n">k</span><span class="o">&lt;=</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">];</span><span class="n">k</span><span class="o">++</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">if</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">&lt;</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">sum</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="n">sum</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
            <span class="p">{</span>
                <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span><span class="o">+</span><span class="n">f</span><span class="p">[</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">+</span><span class="n">sum</span><span class="p">[</span><span class="n">j</span><span class="p">]</span><span class="o">-</span><span class="n">sum</span><span class="p">[</span><span class="n">i</span><span class="o">-</span><span class="mi">1</span><span class="p">];</span>
                <span class="n">idx</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span><span class="o">=</span><span class="n">k</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</td></tr></table>

<p>注意：由于在计算 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 的时候需要知道 <span><span class="MathJax_Preview">idx_{i,j-1}</span><script type="math/tex">idx_{i,j-1}</script></span> 和 <span><span class="MathJax_Preview">idx_{i+1,j}</span><script type="math/tex">idx_{i+1,j}</script></span> 的值，所以 <span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span> 的循环逆序。</p>
<h3 id="_12">时间复杂度证明<a class="headerlink" href="#_12" title="Permanent link">&para;</a></h3>
<p>计算 <span><span class="MathJax_Preview">f_{i,j}</span><script type="math/tex">f_{i,j}</script></span> 时，我们要循环 <span><span class="MathJax_Preview">idx_{i+1,j}-idx_{i,j-1}</span><script type="math/tex">idx_{i+1,j}-idx_{i,j-1}</script></span> 次，那么一共加起来会循环多少次呢？</p>
<p>因为 <span><span class="MathJax_Preview">\sum_{i=1}^{n-1}(idx_{i+1,i+1}-idx_{i,i})=idx_{n,n}-idx_{1,1}</span><script type="math/tex">\sum_{i=1}^{n-1}(idx_{i+1,i+1}-idx_{i,i})=idx_{n,n}-idx_{1,1}</script></span> 很显然和 <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> 同阶，那么它的 <span><span class="MathJax_Preview">n</span><script type="math/tex">n</script></span> 倍就和 <span><span class="MathJax_Preview">n^2</span><script type="math/tex">n^2</script></span> 同阶，时间复杂度是 <span><span class="MathJax_Preview">O(n^2)</span><script type="math/tex">O(n^2)</script></span>。</p>
<h3 id="_13">一道练习题：<a class="headerlink" href="#_13" title="Permanent link">&para;</a></h3>
<p><a href="https://www.luogu.org/problemnew/show/P4767">luogu P4767 [IOI2000]邮局</a></p>
<h3 id="_14">参考资料<a class="headerlink" href="#_14" title="Permanent link">&para;</a></h3>
<p><a href="https://blog.csdn.net/noiau/article/details/72514812">NOIAu 的CSDN 博客</a></p>
                
                  
                
              
              
                <!-- Set from config but allow override -->
 
 

<hr><blockquote class="page-copyright"><p>本页面的全部内容在 <strong>CC BY-SA 4.0 和 SATA</strong> 协议之条款下提供，附加条款亦可能应用</p></blockquote>
<!-- Comments Integration -->


<h2 id="__comments" data-no-instant>评论</h2>
<div id="gitment_container" data-no-instant>
    <link rel="stylesheet" href="https://unpkg.com/ah@1.0.0/index.css">
    <script src="https://unpkg.com/ah@1.0.0/index.js"></script>
    <script>
      const myTheme = {
        render(state, instance) {
          const container = document.createElement('div')
          container.lang = "zh-CN"
          container.className = 'gitment-container gitment-root-container'
          const divv = document.createElement('form')
          // container.appendChild(instance.renderSomething(state, instance))
          container.appendChild(instance.renderHeader(state, instance))
          divv.appendChild(instance.renderEditor(state, instance))
          container.appendChild(divv)
          container.appendChild(instance.renderComments(state, instance))
          container.appendChild(instance.renderFooter(state, instance))
          return container
        },
        renderSomething(state, instance) {
          const container = document.createElement('div')
          container.lang = "zh-CN"
          if (state.user.login) {
            container.innerText = `Hello, ${state.user.login}, 来说点什么吧？`
          }
          return container
        }
      }
      const gitment = new Gitment({
        id: '优化及其它',
        theme: myTheme,
        owner: 'Ir1d',
        repo: 'gitment',
        oauth: {
          client_id: 'd6a911c8fba0194626d4',
          client_secret: '867ec7e13cc99b420bd147cbb62d5cfec271ba81',
        },
      })
      gitment.render('gitment_container')
    </script>
</div>

              
            </article>
          </div>
        </div>
      </main>
      
        <!--
  Copyright (c) 2016-2018 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<style>.MathJax{outline:0;}</style>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    showProcessingMessages: false,
    messageStyle: "none",
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
        inlineMath:  [ ["$", "$"] ],
        displayMath: [ ["$$","$$"] ],
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre','code','a'],
        ignoreClass:"comment-content"
    },
    "HTML-CSS": {
        availableFonts: ["STIX","TeX"],
    }
});
MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
</script>
<script src="https://cdn.bootcss.com/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

<script async src="https://oi-wiki.org/analytics.js"></script>

<!-- InstantClick -->
<script type="text/javascript" src="https://cdn.bootcss.com/instantclick/3.0.0/instantclick.js" data-no-instant></script>
<script data-no-instant>
InstantClick.on('change', function(isInitialLoad) {
 if (isInitialLoad === false) {
  if (typeof MathJax !== 'undefined') // support MathJax
   MathJax.Hub.Queue(["Typeset",MathJax.Hub]);
  if (typeof ga !== 'undefined') // support google analytics
    ga('send', 'pageview', location.pathname + location.search);
 }
});
InstantClick.init(true);
</script>

<script src="../../assets/javascripts/modernizr.1aa3b519.js" data-no-instant></script>

<!-- back to top -->
<link rel="stylesheet" href="https://unpkg.com/data-tip@0.0.52/dist/data-tip.css">
<script>
// 当网页向下滑动 20px 出现"返回顶部" 按钮
window.onscroll = function() {scrollFunction()};
 
function scrollFunction() {console.log(121);
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        document.getElementById("myBtn").style.display = "block";
    } else {
        document.getElementById("myBtn").style.display = "none";
    }
}
 
// 点击按钮，返回顶部
function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}
</script>
<button onclick="topFunction()" id="myBtn" class="data-tip-left" data-tip="回到顶部">
  <svg class="Zi Zi--BackToTop data-tip-left" data-tip="回到顶部" fill="currentColor" viewBox="0 0 24 24" width="24" height="24"><path d="M16.036 19.59a1 1 0 0 1-.997.995H9.032a.996.996 0 0 1-.997-.996v-7.005H5.03c-1.1 0-1.36-.633-.578-1.416L11.33 4.29a1.003 1.003 0 0 1 1.412 0l6.878 6.88c.782.78.523 1.415-.58 1.415h-3.004v7.005z"></path></svg>
</button>


<!-- Application footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">

        <!-- Link to previous page -->
        
          <a href="../plug/"
              title="插头 DP"
              class="md-flex md-footer-nav__link md-footer-nav__link--prev"
              rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back
                    md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  后退
                </span>
                插头 DP
              </span>
            </div>
          </a>
        

        <!-- Link to next page -->
        
          <a href="../misc/"
              title="其它动规方法"
              class="md-flex md-footer-nav__link md-footer-nav__link--next"
              rel="next">
            <div class="md-flex__cell md-flex__cell--stretch
                  md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  前进
                </span>
                其它动规方法
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward
                    md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2016 - 2018 OI Wiki Team
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>

      <!-- Social links -->
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.e72fd936.js"></script>
      
        
        
          
          <script src="../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
                <script src="../../assets/javascripts/lunr/tinyseg.js"></script>
              
              
                <script src="../../assets/javascripts/lunr/lunr.jp.js"></script>
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.3",url:{base:"../.."}})</script>
      
        <script src="../../_static/js/extra.js?v=4"></script>
      
    
    
      
    
  </body>
</html>